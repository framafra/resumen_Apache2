{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Resumen de Comandos Apache2 Contenidos Instalaci\u00f3n Directorios/Archivos de Trabajo Servicio Apache2 Directivas m\u00e1s importantes Configuraci\u00f3n m\u00ednima de un sitio Restringir acceso a una web por IP A\u00f1adir o modificar puertos de escucha Permitir listar el contenido de un directorio Mecanismos de autentificaci\u00f3n","title":"Home"},{"location":"#resumen-de-comandos-apache2","text":"","title":"Resumen de Comandos Apache2"},{"location":"#contenidos","text":"Instalaci\u00f3n Directorios/Archivos de Trabajo Servicio Apache2 Directivas m\u00e1s importantes Configuraci\u00f3n m\u00ednima de un sitio Restringir acceso a una web por IP A\u00f1adir o modificar puertos de escucha Permitir listar el contenido de un directorio Mecanismos de autentificaci\u00f3n","title":"Contenidos"},{"location":"conf/","text":"<VirtalHost *:80> ServerName dominio.es ServerAlias www.dominio.es ServerAdmin admin@dominio.es DocumentRoot /directorio/web </VirtualHost> Habilitar el sitio \u00a1\u00a1IMPORTANT\u00cdSIMO!!: a2ensite /etc/apache2/sites-available/dominio.es.conf Despu\u00e9s hay que reiniciar Apache para que funcione tal y como se explica en el apartado servicio apache2 A\u00f1adir Alias: <VirtualHost *:80> ... ServerAlias www.dominio.es web.dominio.es ... </VirtualHost>","title":"Configuraci\u00f3n m\u00ednima de un sitio"},{"location":"conf/#anadir-alias","text":"<VirtualHost *:80> ... ServerAlias www.dominio.es web.dominio.es ... </VirtualHost>","title":"A\u00f1adir Alias:"},{"location":"dir/","text":"/etc/apache2/apache2.conf --> Archivo de configuraci\u00f3n general de Apache. /etc/apache2/ports.conf --> Archivo de configuraci\u00f3n de los puertos de escucha de Apache /etc/apache2/sites-availables/ --> Directorio en el cu\u00e1l se incluyen los archivos de configuraci\u00f3n de los sitios. /etc/apache2/sites-enabled/ --> Directorio en el que se guardan enlaces simb\u00f3licos a los archivos de configuraci\u00f3n de los sitios activos.","title":"Directorios/Archivos de Configuraci\u00f3n"},{"location":"directivas/","text":"ServerName paco.com --> indica el nombre del servidor. ServerAdmin paco@paco.com --> mail del administrador de la web. ServerAlias www.paco.com paco.net --> indica otros nombre para el servidor DocumentRoot /home/paco --> indica el directorio donde est\u00e1n los archivos de la web. DirectoryIndex paco.html --> indica el nombre del archivo \u00edndice de la web, si no se indica nada coge los nombre de archivo por defecto indicados en el archivo /etc/apache2/mods-available/dir.conf < Directory /var/www > \u2026 < /Directory > --> se utiliza para establecer las opciones sobre el control de acceso del directorio indicado. Como por ejemplo restringir el acceso a la web, configuraci\u00f3n de autenticaciones, etc\u2026 ServerSignature Off --> para que no aparezca el nombre del servidor cuando no hay una web.","title":"Directivas m\u00e1s importantes"},{"location":"inst/","text":"Instalaci\u00f3n servidor Apache2 apt install apache2 -y Para habilitar acceso a trav\u00e9s del firewall: sudo ufw allow Apache","title":"Instalaci\u00f3n"},{"location":"inst/#instalacion-servidor-apache2","text":"apt install apache2 -y Para habilitar acceso a trav\u00e9s del firewall: sudo ufw allow Apache","title":"Instalaci\u00f3n servidor Apache2"},{"location":"listar/","text":"Permitir listar contenido de un directorio: <VirtulHost *:80> ... <Directory /home/usuario/documentos/pdfs/> Options Indexes FollowSymLinks Options Indexes </Directory> </VirtualHost>","title":"Permitir listar el contenido de un directorio"},{"location":"listar/#permitir-listar-contenido-de-un-directorio","text":"<VirtulHost *:80> ... <Directory /home/usuario/documentos/pdfs/> Options Indexes FollowSymLinks Options Indexes </Directory> </VirtualHost>","title":"Permitir listar contenido de un directorio:"},{"location":"mecanismos/","text":"Mecanismos de Autenticaci\u00f3n BASIC <Directory \"/var/www/html/privado\"> AuthType Basic require valid-user AuthBasicProvider file AuthUserFile /etc/apache2/credenciales AuthName \"Sitio Privado\" </Directory> Creaci\u00f3n de los usuarios y passwords htpasswd \u2013c /ruta/al/fichero/de/passwords nombreusuario DIGEST Para utilizarlo hay que activar el m\u00f3dulo auth_digest a2enmod auth_digest Y luego a\u00f1adir: <Directory \"/var/www/html/privadoDigest\"> AuthType Digest AuthName \" Autenticacion Digest\" AuthUserFile /etc/apache2/credencialesdigest Require valid-user </Directory> ''' Creaci\u00f3n de los usuarios y passwords htdigest -c /etc/apache2/credencialesdigest \u2018Autenticacion Digest\u2019 paco","title":"Mecanismos de autentificaci\u00f3n"},{"location":"mecanismos/#mecanismos-de-autenticacion","text":"","title":"Mecanismos de Autenticaci\u00f3n"},{"location":"mecanismos/#basic","text":"<Directory \"/var/www/html/privado\"> AuthType Basic require valid-user AuthBasicProvider file AuthUserFile /etc/apache2/credenciales AuthName \"Sitio Privado\" </Directory> Creaci\u00f3n de los usuarios y passwords htpasswd \u2013c /ruta/al/fichero/de/passwords nombreusuario","title":"BASIC"},{"location":"mecanismos/#digest","text":"Para utilizarlo hay que activar el m\u00f3dulo auth_digest a2enmod auth_digest Y luego a\u00f1adir: <Directory \"/var/www/html/privadoDigest\"> AuthType Digest AuthName \" Autenticacion Digest\" AuthUserFile /etc/apache2/credencialesdigest Require valid-user </Directory> ''' Creaci\u00f3n de los usuarios y passwords htdigest -c /etc/apache2/credencialesdigest \u2018Autenticacion Digest\u2019 paco","title":"DIGEST"},{"location":"puertos/","text":"Editar el fichero /etc/apache2/ports.conf A\u00f1adir la directiva \"Listen 8080\" para HTTP //a\u00f1adimos el puerto 8080","title":"A\u00f1adir o modificar puertos de escucha"},{"location":"restr/","text":"Restringir el acceso a una p\u00e1gina web por IP: Debe estar habilitado el m\u00f3dulo authz_host a2enmod authz_host Se puede hacer por dos m\u00e9todos: - Con la directiva Order deny,allow (No recomendable, descatalogada) - Con la directiva Require M\u00e9todo Order allow, deny (no recomendado) Denegar todo y permitir una IP/subred. <VirtualHost *:80> ... <Directory /directorio/web/> Order allow,deny Allow from 192.168.0.0/24 </Directory> </VirtualHost> M\u00e9todo Require (M\u00f3dulos --> mod_auth_host - Require) Permitir a todos y denegar a uno. <VirtualHost *:80> ... <Directory /directorio/web/> <RequireAll> Require all granted --> permitir a todo Require not ip 192.168.0.0/24 </RequireAll> </Directory> </VirtualHost> Permitir a todos y denegar a un conjunto de host. <VirtualHost *:80> ... <Directory /directorio/web/> <RequireAll> Require all granted --> permitir a todo Require not host host.ejemplo.es host2.dominio.es bloquear.es </RequireAll> </Directory> </VirtualHost> Denegar todo y permitir a uno <VirtualHost *:80> ... <Directory /directorio/web/> <RequireAll> Require all denied --> denegar a todo Require ip 192.168.0.0/24 </RequireAll> </Directory> </VirtualHost>","title":"Restringir acceso a una web por IP"},{"location":"restr/#restringir-el-acceso-a-una-pagina-web-por-ip","text":"Debe estar habilitado el m\u00f3dulo authz_host a2enmod authz_host Se puede hacer por dos m\u00e9todos: - Con la directiva Order deny,allow (No recomendable, descatalogada) - Con la directiva Require","title":"Restringir el acceso a una p\u00e1gina web por IP:"},{"location":"restr/#metodo-order-allow-deny-no-recomendado","text":"Denegar todo y permitir una IP/subred. <VirtualHost *:80> ... <Directory /directorio/web/> Order allow,deny Allow from 192.168.0.0/24 </Directory> </VirtualHost>","title":"M\u00e9todo Order allow, deny (no recomendado)"},{"location":"restr/#metodo-require-modulos-mod_auth_host-require","text":"Permitir a todos y denegar a uno. <VirtualHost *:80> ... <Directory /directorio/web/> <RequireAll> Require all granted --> permitir a todo Require not ip 192.168.0.0/24 </RequireAll> </Directory> </VirtualHost> Permitir a todos y denegar a un conjunto de host. <VirtualHost *:80> ... <Directory /directorio/web/> <RequireAll> Require all granted --> permitir a todo Require not host host.ejemplo.es host2.dominio.es bloquear.es </RequireAll> </Directory> </VirtualHost> Denegar todo y permitir a uno <VirtualHost *:80> ... <Directory /directorio/web/> <RequireAll> Require all denied --> denegar a todo Require ip 192.168.0.0/24 </RequireAll> </Directory> </VirtualHost>","title":"M\u00e9todo Require (M\u00f3dulos --&gt; mod_auth_host - Require)"},{"location":"servicio/","text":"Servicio Apache2: Con los comandos de servicio de Linux: Arranque: sudo service apache2 start o /etc/init.d/apache restart Parada: sudo service apache2 stop o /etc/init.d/apache stop Reinicio: sudo service apache2 restart o /etc/init.d/apache restart Forzar lectura de la configuraci\u00f3n sin parar el servicio sudo service apache2 reload o\u00ad /etc/init.d/apache reload Comprobar el estado \u00ad sudo service apache2 status o \u00ad /etc/init.d/apache status Con los comandos propios de Apache desde la consola de Linux: Arranque: sudo apache2ctl start Parada \u00ad sudo apache2ctl stop Reinicio: \u00ad sudo apache2ctl restart Forzar lectura de la configuraci\u00f3n sin parar el servicio sudo apache2ctl gracefull Comprobar el estado sudo apache2ctl status Habilitar/Deshabilitar sitios y m\u00f3dulos Habilitar m\u00f3dulo a2enmod nombredelmodulo Deshabilitar m\u00f3dulo a2dismod nombredelmodulo Habilitar sitio a2ensite nombredelarchivodeconfiguraciondelsitio Deshabilitar sitio a2dissite nombredelarchivodeconfiguraciondelsitio IMPORTANT\u00cdSITIMO Luego de habilitar/deshabilitar se tienen que reiniciar Apache.","title":"Servicio Apache2"},{"location":"servicio/#servicio-apache2","text":"Con los comandos de servicio de Linux: Arranque: sudo service apache2 start o /etc/init.d/apache restart Parada: sudo service apache2 stop o /etc/init.d/apache stop Reinicio: sudo service apache2 restart o /etc/init.d/apache restart Forzar lectura de la configuraci\u00f3n sin parar el servicio sudo service apache2 reload o\u00ad /etc/init.d/apache reload Comprobar el estado \u00ad sudo service apache2 status o \u00ad /etc/init.d/apache status Con los comandos propios de Apache desde la consola de Linux: Arranque: sudo apache2ctl start Parada \u00ad sudo apache2ctl stop Reinicio: \u00ad sudo apache2ctl restart Forzar lectura de la configuraci\u00f3n sin parar el servicio sudo apache2ctl gracefull Comprobar el estado sudo apache2ctl status Habilitar/Deshabilitar sitios y m\u00f3dulos Habilitar m\u00f3dulo a2enmod nombredelmodulo Deshabilitar m\u00f3dulo a2dismod nombredelmodulo Habilitar sitio a2ensite nombredelarchivodeconfiguraciondelsitio Deshabilitar sitio a2dissite nombredelarchivodeconfiguraciondelsitio IMPORTANT\u00cdSITIMO Luego de habilitar/deshabilitar se tienen que reiniciar Apache.","title":"Servicio Apache2:"}]}